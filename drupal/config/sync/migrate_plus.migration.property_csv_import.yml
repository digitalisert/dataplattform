id: property_csv_import
label: Import properties
migration_group: default

source:
  plugin: csv
  path: /opt/drupal/config/sync/data/properties.csv
  delimiter: ','
  enclosure: '"'
  header_offset: 0
  ids:
    - id
  fields:
    0:
      name: id
      label: 'Unique Id'
    1:
      name: name
      label: 'Name'
    2:
      name: type
      label: 'Type'
    3:
      name: value
      label: 'Value'

process:
  name: name
  type: type
  value:
    plugin: explode
    source: value
    delimiter: ';'
  value_geofield:
    plugin: explode
    source: value
    delimiter: ';'

destination:
  plugin: entity_reference_revisions:paragraph
